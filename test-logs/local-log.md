# Log on local blockchain

## Run the test locally

```sh
yarn local
```

## Log

```
nft-standard-draft % yarn local
[1:21:48 PM] chain: local
[1:21:48 PM] networkId: testnet
[1:21:48 PM] o1js version: 2.0.0
[1:21:48 PM] zkCloudWorker version: 0.16.6
[1:21:48 PM] Collection contract address: B62qopt8FECaG2MSWEnX2xC6ht1ELbxHd5Ywa2gDZo2MfkzC4Rppwk9
[1:21:48 PM] Admin contract address: B62qr7ecWudaBXmvntxn4fk5NJfL8mLSxAu4W1TXaVFVHbrbpoZH9gB
[1:21:48 PM] NFT contract address: B62qoEx7wrpPTcTXDNMfD2g4FcqKf7YurrXkYDcynJT27afCXJ4yq4D
[1:21:48 PM] Upgrade authority contract address: B62qm7tSbQ4oZ6wcp16JkcEcGmtXBtKjtVGpiiZK2XGBrLWS6rpKp2d
[1:21:48 PM] WhitelistedAdmin: false
[1:21:48 PM] Account updates for topup: 2, proof authorizations: 0
[1:21:48 PM] topup tx sent: hash: 5JuQNqnpWY2LQRatcj1kTmjCRh7eeVVmJcwXyz3e2MQc8JcLkzTh status: pending
[1:21:48 PM] Account updates for topup: 2, proof authorizations: 0
[1:21:48 PM] topup tx sent: hash: 5JtwMWwUTeHfd6Ti1gU2upwcXCB7Vznw5bC9gUjgaqHd4LaxbKvz status: pending
[1:21:48 PM] Account updates for topup: 2, proof authorizations: 0
[1:21:48 PM] topup tx sent: hash: 5JtmnHdLpfds3psbsoU1AjcvsBEmGQg5CTkHCgoQNAHapzLeQcFA status: pending
[1:21:48 PM] Account updates for topup: 2, proof authorizations: 0
[1:21:48 PM] topup tx sent: hash: 5JtrAM8SXk3kQhfyVMzFMfaPB4ojRwimrWKHo2b5Bhni7Y4VRifg status: pending
[1:21:48 PM] Account updates for topup: 2, proof authorizations: 0
[1:21:49 PM] topup tx sent: hash: 5JtaW32nJRKijHagR69AiTvhrEsawB7RfetdWi7GyLNCsLMkjuBQ status: pending
[1:21:49 PM] Topup tx included: 5JuQNqnpWY2LQRatcj1kTmjCRh7eeVVmJcwXyz3e2MQc8JcLkzTh
[1:21:49 PM] Topup tx included: 5JtwMWwUTeHfd6Ti1gU2upwcXCB7Vznw5bC9gUjgaqHd4LaxbKvz
[1:21:49 PM] Topup tx included: 5JtmnHdLpfds3psbsoU1AjcvsBEmGQg5CTkHCgoQNAHapzLeQcFA
[1:21:49 PM] Topup tx included: 5JtrAM8SXk3kQhfyVMzFMfaPB4ojRwimrWKHo2b5Bhni7Y4VRifg
[1:21:49 PM] Topup tx included: 5JtaW32nJRKijHagR69AiTvhrEsawB7RfetdWi7GyLNCsLMkjuBQ
[1:21:49 PM] Topup done
[1:21:49 PM] Creator B62qpqd5Pi9RqvKkKRh2i5cGbSNbR85RBmYCT4xGM8f2ZEVh3ULHrby balance: 100
[1:21:49 PM] Admin   B62qpFSEMnYZLDBFqf5KaTA499K1mQPzHwb7NUaZjtRxn1Pda3m8kZm balance: 1000
[1:21:49 PM] User 0  B62qmPcFvChfuJ6M7sWcixq5zMMiTCt4qSVrstW5bxYi65VxbGfpWov balance: 494.5
[1:21:49 PM] User 1  B62qjf6EhEuZccFbPL5fwJbZUBnMjddxWG1xfAUvbAUM4MeQfyGXu1P balance: 1000
[1:21:49 PM] User 2  B62qnJWzKy2E4vt2uj4oPZ2xM71FpBDNQcMFatjpkBPmLZhx5aPDHJd balance: 1000
[1:21:49 PM] User 3  B62qmzXY79ive3QoqVPYdTUGXem1RKcpHRGLjbQjX7GzxTK8CWp3wU2 balance: 1000
[1:21:49 PM] User 4  B62qj3d66Qj8H1F4V2Rmj5isEaVMR83pXv5SFABQyv5zaPyzQHARgmX balance: 1000
[1:21:49 PM] RSS memory before compiling: 518 MB
[1:21:49 PM] compiling...
[1:21:52 PM] compiled NFTContract: 3.670s
[1:21:55 PM] compiled Admin: 3.171s
[1:21:55 PM] Admin vk hash: 27968039045891100927648704666754528771275213274406212289757761318443521844298
[1:22:00 PM] compiled WhitelistedAdmin: 4.952s
[1:22:00 PM] WhitelistedAdmin vk hash: 8349588753538109621191729972529371784910266349819356106649224763502515841361
[1:22:09 PM] compiled UpgradeAuthority: 8.552s
[1:22:09 PM] UpgradeAuthority vk hash: 24565401226054578737722791483057718071154045451563120873284696247613914953129
[1:22:17 PM] compiled ValidatorsVoting: 7.841s
[1:22:17 PM] ValidatorsVoting vk hash: 6353605971825030201002986807070533177679190473667768930431457206700622439047
[1:22:35 PM] compiled Collection: 18.694s
[1:22:35 PM] Collection vk hash: 21039138855797080218524455964665593273495413184664226050882204541100868894216
[1:22:42 PM] compiled NFTProgram: 6.689s
[1:22:42 PM] NFTProgram vk hash: 27880826672694616683520621021051389439841346881415962306038372232350405781184
[1:22:42 PM] Analyzing contracts methods...
[1:22:42 PM] methods analyzed: 239.519ms
[1:22:42 PM] method's total size for a NFT is 6237 rows (9.52% of max 65536 rows)
[1:22:42 PM] method's total size for a Admin is 5108 rows (7.79% of max 65536 rows)
[1:22:42 PM] method's total size for a WhitelistedAdmin is 11162 rows (17.03% of max 65536 rows)
[1:22:42 PM] method's total size for a UpgradeAuthority is 2714 rows (4.14% of max 65536 rows)
[1:22:42 PM] method's total size for a Collection is 30771 rows (46.95% of max 65536 rows)
[1:22:42 PM] method's total size for a NFTProgram is 1800 rows (2.75% of max 65536 rows)
[1:22:42 PM] RSS memory before deploy: 3039 MB, changed by 2521 MB
[1:22:45 PM] saveToIPFS result: {
  IpfsHash: 'bafkreiciheldxz3w4zaainxlhewrnjuvai7shkwvcwn2yxukiuyfmnrvqa',
  PinSize: 2308,
  Timestamp: '2024-11-14T10:22:45.157Z'
}
[1:22:56 PM] Account updates for deploy UpgradeAuthority: 2, proof authorizations: 1
[1:22:56 PM] DUPLICATE AU deploy UpgradeAuthority: B62qm7tSbQ4oZ6wcp16JkcEcGmtXBtKjtVGpiiZK2XGBrLWS6rpKp2d   count: 2
[1:22:56 PM] deploy UpgradeAuthority tx sent: hash: 5JvEbCy2mdsDZJg9HT357jBEaxSiYN3GGQY6HinuUc89iNhCsH5X status: pending
[1:22:56 PM] Waiting for tx inclusion...
[1:22:56 PM] deploy UpgradeAuthority tx included into block: hash: 5JvEbCy2mdsDZJg9HT357jBEaxSiYN3GGQY6HinuUc89iNhCsH5X status: included
[1:22:56 PM] deployed UpgradeAuthority: 14.108s
[1:23:06 PM] saveToIPFS result: {
  IpfsHash: 'bafkreicukk2saasevbkad2s5musu52rg7ujwk3zsz4oysjvtx2l227675y',
  PinSize: 5722,
  Timestamp: '2024-11-14T10:23:06.635Z'
}
[1:23:17 PM] Account updates for deploy Collection: 4, proof authorizations: 1
[1:23:17 PM] DUPLICATE AU deploy Collection: B62qopt8FECaG2MSWEnX2xC6ht1ELbxHd5Ywa2gDZo2MfkzC4Rppwk9   count: 2
[1:23:17 PM] deploy Collection tx sent: hash: 5JvFC56UnP8e2ceBjZmm2cgwx6VozsDEeBFQWgjtn54LjnL35iLs status: pending
[1:23:17 PM] Waiting for tx inclusion...
[1:23:17 PM] deploy Collection tx included into block: hash: 5JvFC56UnP8e2ceBjZmm2cgwx6VozsDEeBFQWgjtn54LjnL35iLs status: included
[1:23:17 PM] deployed Collection: 20.715s
[1:23:17 PM] RSS memory before mint: 3568 MB, changed by 529 MB
[1:23:22 PM] saveToIPFS result: {
  IpfsHash: 'bafkreidutiqp3pkxzdjbn7p4g2rntjrxa66xbqra3utyyrm55fo34a64tq',
  PinSize: 1667,
  Timestamp: '2024-11-14T10:23:22.790Z'
}
[1:23:33 PM] Account updates for mint: 3, proof authorizations: 1
[1:23:33 PM] mint tx sent: hash: 5JtVTRxruAf3kckewWDz9vNdkEUn2od7QCuhyDPm7k6jTtbnqJXR status: pending
[1:23:33 PM] Waiting for tx inclusion...
[1:23:33 PM] mint tx included into block: hash: 5JtVTRxruAf3kckewWDz9vNdkEUn2od7QCuhyDPm7k6jTtbnqJXR status: included
[1:23:33 PM] minted NFT: 16.121s
[1:23:33 PM] RSS memory before sell: 3650 MB, changed by 82 MB
[1:23:33 PM] requireSaleApproval true
Attempt to sell NFT with wrong approval failed: Bool.assertFalse(): true != false
[1:24:02 PM] Account updates for sell: 4, proof authorizations: 3
[1:24:04 PM] sell tx sent: hash: 5Jv77VERBtptUwkTE771jtyGbyw1QMGGYKWKgTWLVELYGNJEbRMr status: pending
[1:24:04 PM] Waiting for tx inclusion...
[1:24:04 PM] sell tx included into block: hash: 5Jv77VERBtptUwkTE771jtyGbyw1QMGGYKWKgTWLVELYGNJEbRMr status: included
[1:24:04 PM] sold NFT: 30.536s
[1:24:04 PM] RSS memory before buy: 3806 MB, changed by 156 MB
[1:24:04 PM] requireBuyApproval true
Attempt to buy NFT with wrong approval failed: Bool.assertFalse(): true != false
[1:24:31 PM] Account updates for buy: 5, proof authorizations: 3
[1:24:33 PM] buy tx sent: hash: 5JtdNcVvT5dKks6rZndXxegRn4FjtyUx1bWVUG5Nmn9aVU8tZN5R status: pending
[1:24:33 PM] Waiting for tx inclusion...
[1:24:33 PM] buy tx included into block: hash: 5JtdNcVvT5dKks6rZndXxegRn4FjtyUx1bWVUG5Nmn9aVU8tZN5R status: included
[1:24:33 PM] bought NFT: 29.303s
[1:24:33 PM] RSS memory before update: 4031 MB, changed by 225 MB
[1:24:33 PM] requireUpdateApproval true
[1:24:52 PM] proved update 1: 12.566s
[1:25:04 PM] proved update 2: 11.870s
[1:25:22 PM] merged proofs: 18.065s
Attempt to update NFT with wrong approval failed: Update approval is required
Bool.assertFalse(): true != false
[1:25:53 PM] Account updates for update: 4, proof authorizations: 3
[1:25:54 PM] update tx sent: hash: 5Jtsm4cArp4SvWtXcccrvBEn3HmbNRtm9BezMkjBZUhJGX24md3f status: pending
[1:25:54 PM] Waiting for tx inclusion...
[1:25:54 PM] update tx included into block: hash: 5Jtsm4cArp4SvWtXcccrvBEn3HmbNRtm9BezMkjBZUhJGX24md3f status: included
[1:25:54 PM] updated NFT: 1:21.187 (m:ss.mmm)
[1:25:54 PM] RSS memory before transfer: 5330 MB, changed by 1299 MB
[1:25:54 PM] requireTransferApproval true
Attempt to transfer NFT with wrong approval failed: Transfer approval is required
Bool.assertFalse(): true != false
[1:26:23 PM] Account updates for transfer: 5, proof authorizations: 3
[1:26:24 PM] transfer tx sent: hash: 5JvHBgAP7QbNjsmkiPXdo63BPU72MgQ2GnmVN1n1HDrycXPYAzHq status: pending
[1:26:24 PM] Waiting for tx inclusion...
[1:26:24 PM] transfer tx included into block: hash: 5JvHBgAP7QbNjsmkiPXdo63BPU72MgQ2GnmVN1n1HDrycXPYAzHq status: included
[1:26:24 PM] transferred NFT: 30.030s
[1:26:24 PM] RSS memory before pause: 5362 MB, changed by 32 MB
[1:26:43 PM] Account updates for pause NFT: 3, proof authorizations: 2
[1:26:44 PM] pause NFT tx sent: hash: 5JujXSuWH7hVn1uMD9iY4EZMx66uba969E1BM9RytZXBP933yRdZ status: pending
[1:26:44 PM] Waiting for tx inclusion...
[1:26:44 PM] pause NFT tx included into block: hash: 5JujXSuWH7hVn1uMD9iY4EZMx66uba969E1BM9RytZXBP933yRdZ status: included
[1:26:44 PM] paused NFT: 19.859s
[1:26:44 PM] RSS memory before transfer: 5388 MB, changed by 26 MB
[1:26:44 PM] requireTransferApproval true
[1:26:44 PM] error during attempt to transfer paused NFT: NFT is paused
Bool.assertFalse(): true != false
[1:26:44 PM] tried to transfer paused NFT: 23.634ms
[1:26:44 PM] RSS memory before resume: 5388 MB, changed by 0 MB
[1:27:03 PM] Account updates for resume NFT: 3, proof authorizations: 2
[1:27:05 PM] resume NFT tx sent: hash: 5Ju4eMej7cvx1FGmEHi57uLQoKHmgVGc48he53n2enqUm8AUfxoQ status: pending
[1:27:05 PM] Waiting for tx inclusion...
[1:27:05 PM] resume NFT tx included into block: hash: 5Ju4eMej7cvx1FGmEHi57uLQoKHmgVGc48he53n2enqUm8AUfxoQ status: included
[1:27:05 PM] resumed NFT: 20.201s
[1:27:05 PM] RSS memory before transfer: 5475 MB, changed by 87 MB
[1:27:05 PM] requireTransferApproval true
[1:27:35 PM] Account updates for transfer: 5, proof authorizations: 3
[1:27:36 PM] transfer tx sent: hash: 5Ju7yUdZQ9QA9GsBtjPUxohPTu7KZKnhhkuzZfxGvn37NZ8SPDrZ status: pending
[1:27:36 PM] Waiting for tx inclusion...
[1:27:36 PM] transfer tx included into block: hash: 5Ju7yUdZQ9QA9GsBtjPUxohPTu7KZKnhhkuzZfxGvn37NZ8SPDrZ status: included
[1:27:36 PM] transferred NFT: 31.888s
[1:27:36 PM] RSS memory before pause: 5528 MB, changed by 53 MB
[1:27:46 PM] Account updates for pause Collection: 2, proof authorizations: 1
[1:27:47 PM] pause Collection tx sent: hash: 5Jtauipy8LBS7jh3Qb4PtSLeWt75gGndFARvo5rhGtUL6ELYpAnk status: pending
[1:27:47 PM] Waiting for tx inclusion...
[1:27:47 PM] pause Collection tx included into block: hash: 5Jtauipy8LBS7jh3Qb4PtSLeWt75gGndFARvo5rhGtUL6ELYpAnk status: included
[1:27:47 PM] paused Collection: 10.524s
[1:27:47 PM] RSS memory before transfer: 5616 MB, changed by 88 MB
[1:27:47 PM] requireTransferApproval true
[1:27:47 PM] error during attempt to transfer NFT on paused Collection: Collection is currently paused
Bool.assertFalse(): true != false
[1:27:47 PM] tried to transfer NFT on paused Collection: 90.273ms
[1:27:47 PM] RSS memory before resume: 5616 MB, changed by 0 MB
[1:27:58 PM] Account updates for resume Collection: 2, proof authorizations: 1
[1:27:58 PM] resume Collection tx sent: hash: 5JuaQnSFbnptqWcdbyr1uwwVqa8YFbFpgbzPJ9czKBocTMtbzKx8 status: pending
[1:27:58 PM] Waiting for tx inclusion...
[1:27:58 PM] resume Collection tx included into block: hash: 5JuaQnSFbnptqWcdbyr1uwwVqa8YFbFpgbzPJ9czKBocTMtbzKx8 status: included
[1:27:58 PM] resumed Collection: 11.246s
[1:27:58 PM] storage bafkreiciheldxz3w4zaainxlhewrnjuvai7shkwvcwn2yxukiuyfmnrvqa
[1:28:01 PM] saveToIPFS result: {
  IpfsHash: 'bafkreidwoiugxmpdmhoxpyhqsu5eagkgehrwnwiwzwncsrpwhawvucehvy',
  PinSize: 1827,
  Timestamp: '2024-11-14T10:28:01.623Z'
}
[1:28:01 PM] voting...
[1:28:44 PM] voted: 42.438s
[1:28:44 PM] merging vote proofs...
[1:29:24 PM] merged vote proofs: 40.291s
[1:29:41 PM] Account updates for Set UpgradeAuthority: 1, proof authorizations: 1
[1:29:42 PM] Set UpgradeAuthority tx sent: hash: 5JudUUb3a1Y197pXqT6sbx8fkBCRK5Un5M58qaBcuCj5dD441cjJ status: pending
[1:29:42 PM] Waiting for tx inclusion...
[1:29:42 PM] Set UpgradeAuthority tx included into block: hash: 5JudUUb3a1Y197pXqT6sbx8fkBCRK5Un5M58qaBcuCj5dD441cjJ status: included
[1:29:42 PM] Set UpgradeAuthority: 1:43.617 (m:ss.mmm)
[1:29:42 PM] RSS memory before NFT upgrade: 5596 MB, changed by -20 MB
[1:29:42 PM] requireCreatorSignatureToUpgradeNFT false
[1:30:15 PM] Account updates for upgrade NFT vk: 4, proof authorizations: 3
[1:30:17 PM] upgrade NFT vk tx sent: hash: 5JuK3epkYLEbXaarZjihAYMSRhXBoVugrP5U5xYYQq2Mm1ZizFre status: pending
[1:30:17 PM] Waiting for tx inclusion...
[1:30:17 PM] upgrade NFT vk tx included into block: hash: 5JuK3epkYLEbXaarZjihAYMSRhXBoVugrP5U5xYYQq2Mm1ZizFre status: included
[1:30:17 PM] upgraded NFT: 35.358s
[1:30:17 PM] RSS memory before Collection upgrade: 5655 MB, changed by 59 MB
[1:30:42 PM] Account updates for upgrade Collection vk: 3, proof authorizations: 2
[1:30:43 PM] upgrade Collection vk tx sent: hash: 5JtrkkfKVz23S4B2RyM5UyFJkvrzLNYAuPna9oVd6UytSAkkF1Tz status: pending
[1:30:43 PM] Waiting for tx inclusion...
[1:30:43 PM] upgrade Collection vk tx included into block: hash: 5JtrkkfKVz23S4B2RyM5UyFJkvrzLNYAuPna9oVd6UytSAkkF1Tz status: included
[1:30:43 PM] upgraded Collection: 25.799s
[1:30:43 PM] RSS memory before AdminContract upgrade: 5431 MB, changed by -224 MB
[1:31:06 PM] Account updates for upgrade AdminContract vk: 3, proof authorizations: 2
[1:31:07 PM] upgrade AdminContract vk tx sent: hash: 5JuYQi3PMm1zMRN9m95yBwf1oSkbXohwjYwKwiwjk1snCiSE6aU5 status: pending
[1:31:07 PM] Waiting for tx inclusion...
[1:31:07 PM] upgrade AdminContract vk tx included into block: hash: 5JuYQi3PMm1zMRN9m95yBwf1oSkbXohwjYwKwiwjk1snCiSE6aU5 status: included
[1:31:07 PM] upgraded AdminContract: 24.203s
[1:31:07 PM] RSS memory before transfer: 5562 MB, changed by 131 MB
[1:31:07 PM] requireTransferApproval true
[1:31:41 PM] Account updates for transfer: 5, proof authorizations: 3
[1:31:43 PM] transfer tx sent: hash: 5JvQn2RZLvpw1e39Qgzq4fMjd9VEB4GFAKJwK4ZCx9MyXDyDGUnB status: pending
[1:31:43 PM] Waiting for tx inclusion...
[1:31:43 PM] transfer tx included into block: hash: 5JvQn2RZLvpw1e39Qgzq4fMjd9VEB4GFAKJwK4ZCx9MyXDyDGUnB status: included
[1:31:43 PM] transferred NFT: 35.316s
 PASS  tests/contract.test.ts
  NFT contracts tests
    ✓ should initialize a blockchain (1040 ms)
    ✓ should compile NFT Contract (3671 ms)
    ✓ should compile Admin (3171 ms)
    ✓ should compile WhitelistedAdmin (4952 ms)
    ✓ should compile UpgradeAuthority (8553 ms)
    ✓ should compile ValidatorsVoting (7841 ms)
    ✓ should compile Collection (18695 ms)
    ✓ should compile nft ZkProgram (6689 ms)
    ✓ should analyze contracts methods (240 ms)
    ✓ should deploy an UpgradeAuthority (14108 ms)
    ✓ should deploy a Collection (20716 ms)
    ✓ should mint NFT (16122 ms)
    ✓ should sell NFT (30536 ms)
    ✓ should buy NFT (29326 ms)
    ✓ should update NFT metadata (81204 ms)
    ✓ should transfer NFT (30030 ms)
    ✓ should pause NFT (19859 ms)
    ✓ should fail to transfer paused NFT (24 ms)
    ✓ should resume NFT (20202 ms)
    ✓ should transfer NFT (31888 ms)
    ✓ should pause Collection (10524 ms)
    ✓ should fail to transfer NFT on paused Collection (91 ms)
    ✓ should resume Collection (11246 ms)
    ✓ should set a UpgradeAuthority database (103618 ms)
    ✓ should upgrade NFT verification key (35358 ms)
    ✓ should upgrade Collection verification key (25799 ms)
    ✓ should upgrade AdminContract verification key (24204 ms)
    ✓ should transfer NFT (35316 ms)

Test Suites: 1 passed, 1 total
Tests:       28 passed, 28 total
Snapshots:   0 total
Time:        596.339 s, estimated 638 s
Ran all test suites matching /contract.test/i.
```
